<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html;" charset="UTF-8" />
  <!-- <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>-->
  <title></title>
  <!-- <link rel="stylesheet" href="./css/base.css" /> -->
  <style></style>
</head>

<body>
  <p>webSocket 跨域</p>
  <div>user input：<input type="text"></div>
  <!-- 引入socket.io -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
  <script>
  var socket = io('http://localhost:8080');

  // 连接成功处理
  socket.on('connect', function() {
      // 监听服务端消息
      socket.on('message', function(msg) {
          console.log('data from server: ---> ' + msg);
      });
      // 监听服务端关闭
      socket.on('disconnect', function() {
          console.log('Server socket has closed.');
      });
  });

  document.getElementsByTagName('input')[0].onblur = function() {
      socket.send(this.value);
  };
  </script>
</body>

</html>